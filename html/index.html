<!DOCTYPE html>
<html ng-app="TarasTeca">
	<head>
		<meta charset="utf-8">
		<link rel="stylesheet" type="text/css" href="../css/bootstrap.min.css">
		<link rel="stylesheet" type="text/css" href="../css/tarasteca.css">		
		<script type="text/javascript" src="../lib/jquery.min.js"></script>	
		<script type="text/javascript" src="../lib/angular.min.js"></script>
		<script type="text/javascript" src="../lib/bootstrap.min.js"></script>
		<script type="text/javascript" src="../js/app.js"></script>	
	</head>
	<body controller="bookController as bc">
		<h1>{{"Taras" + " " + "Teca"}}</h1>
		<div class="alert alert-success" ng-init="author = { title:'Packy', message:'Hello World!' }" role="alert">
			My first Bootstrap Alert: {{ author.title }} says {{ author.message }}
			<br />
			<input type="text" ng-model="author.title" size="20" />
			<input type="text" ng-model="author.message" size="20" />
		</div>

		<div ng-controller="BookController">
			<div class="input-group tarasteca-input">
				<span class="input-group-addon" id="basic-addon1">Search patern:</span>
				<input type="text" class="form-control" placeholder="type text to search ..." aria-describedby="basic-addon1" ng-model="pattern">
			</div>
		    <br />

			<p>There are {{ books.length }} books in your Teca.</p>

			<div class="panel panel-info tarasteca-panel" ng-repeat="book in books | filter:pattern | orderBy:'author'" ng-class="{ 'row-even': $even, 'row-odd': $odd }">
			 	<div class="panel-heading tarasteca-panel-heading">
			    	<h1 class="panel-title">{{ book.title }} <span class="badge">{{ $index + 1 }}</span></h1>
				</div>
				<div class="panel-body">
						<p ng-repeat="(key, value) in book">
							<strong>{{ key | uppercase }}</strong>: {{ value }}
						</p>
					<em class="pull-rigth">book.price | currency:"&#8364;"</em>
					<button class="pull-right" show="book.inTeca">I have it!</button>
			  	</div>
			</div>

			<div class="panel panel-default tarasteca-panel">
				<div class="panel-heading tarasteca-panel-heading">
				</div>
				<div class="panel-body tarasteca-panel-body">
					<form name="book_form" novalidate>
						<div class="alert alert-danger" role="alert" ng-show="add_book_error.length > 0">
							<p ng-repeat="e in add_book_error" />{{ e }}</p>
						</div>

						<input class="form-control tt-form-control" type="text" name="title" placeholder="Title ..." size=20 ng-model="book.title" ng-required="true">
						<input class="form-control tt-form-control" type="text" name="author" placeholder="author ..." size=20 ng-model="book.author" ng-required="true">
						<input class="form-control tt-form-control" type="text" name="year" placeholder="year ..." size="4" ng-model="book.year" ng-required="true" ng-minlength="4" ng-maxlength="4">						
				  		<button class="btn btn-success tt-form-control tt-push-down" type="button" ng-click="addBook(book)">Add new book ...</button>
			  		</form>
			  	</div>
			</div>
		</div>	
	</body>
</html>